{% extends 'base.html.twig' %}

{% block title %}ChargeIT Booking Form{% endblock %}

{% block content %}
<script>
        var sid={{ uuid }};
</script>
    <script src="/assets/booking/script.js"></script>
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="h-100">
    {% if errors|default %}
        <p class="text-center">An error has occurred: </p>
        <p class="text-center"  style="color:red;">{{ errors }}</p>
    {% endif %}
    {{ form_start(form) }}
    <div class="row row-cols-auto w-100 text-center align-items-center justify-content-center">
        <div class="col-md-auto">
            <label for="booking_duration">Start Time</label>
            <div class="input-group mb-2">
                {{ form_widget(form.start_time, {'value':'now'|date()}) }}
            </div>
        </div>
    </div>
    <div class="row row-cols-auto w-100 text-center align-items-center justify-content-center">
        <div class="col-md-auto">
            <label for="battery">Battery Charge</label>
            <div class="input-group mb-2">
                {{ form_widget(form.battery, {'attr': {'id':'battery','maxlength':'3','onchange':'calculateDuration()'}}) }}
            </div>
        </div>
    </div>
    <div class="row row-cols-auto w-100 text-center align-items-center justify-content-center">
        <div class="col-md-auto">
            <label for="booking_car">Car</label>
            <div class="input-group mb-2">
                {{ form_widget(form.car, {'attr': {'id':'car','onchange':'calculateDuration()'}}) }}
            </div>
        </div>
    </div>

    <div class="row row-cols-auto w-100 text-center align-items-center justify-content-center">
        <div class="col-md-auto">
            <label for="booking_plug">Plug</label>
            <div class="input-group mb-2">
                {{ form_widget(form.plug, {'attr': {'id':'plug','onchange':'calculateDuration()'}}) }}
            </div>
        </div>
    </div>
    <div class="row row-cols-auto w-100 text-center align-items-center justify-content-center">
        <div class="col-md-auto">
            <label for="booking_duration">Duration</label>
            <div class="input-group mb-2">
                {{ form_widget(form.duration, {'type':'number','attr': {'id':'duration','maxlength':'5'}}) }}
                <span class="input-group-text">minutes</span>
            </div>
        </div>
    </div>
    <div class="text-center" id="warning">{{ form_errors(form) }}</div>
    <div class="row row-cols-auto w-100 align-items-center justify-content-center">
        <div class="col-md-auto">
            {% if app.request.attributes.get('_route')=='app_booking_create' %}
                <button type="submit" class="btn">Create</button>
            {% else %}
                <button type="submit" class="btn">Edit</button>
            {% endif %}
            {{ form_end(form) }}
        </div>
    </div>

{#    <div class="col-5">#}
{#        <label for="booking_duration">Duration</label>#}
{#        <div class="input-group mb-2">#}
{#            {{ form_widget(form.duration, {'type':'number','attr': {'id':'duration','maxlength':'5'}}) }}#}
{#            <span class="input-group-text">minutes</span>#}
{#        </div>#}
{#    </div>#}
{#    <div class="col-5">#}
{#        <label for="booking_car">Car</label>#}
{#        <div class="input-group mb-2">#}
{#            {{ form_widget(form.car, {'attr': {'id':'car','onchange':'calculateDuration()'}}) }}#}
{#        </div>#}
{#    </div>#}
{#    <div class="col-5">#}
{#        <label for="booking_plug">Plug</label>#}
{#        <div class="input-group mb-2">#}
{#            {{ form_widget(form.plug, {'attr': {'id':'plug','onchange':'calculateDuration()'}}) }}#}
{#        </div>#}
{#    </div>#}
{#        <div class="col-4">#}
{#            <label for="battery">Battery Charge</label>#}
{#            <div class="input-group mb-2">#}
{#            {{ form_widget(form.battery, {'attr': {'id':'battery','maxlength':'3','onchange':'calculateDuration()'}}) }}#}
{#            <span class="input-group-text">%</span>#}
{#            </div>#}
{#        </div>#}



</div>
{% endblock %}
